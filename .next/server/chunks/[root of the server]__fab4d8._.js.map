{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/codequest/src/app/lib/mongodb.ts"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\ndeclare global {\r\n  var mongoose: mongoose.Connection;\r\n}\r\n\r\n\r\nlet cached = global.mongoose;\r\n\r\nif (!cached) {\r\n  cached = global.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function dbConnect() {\r\n  if (cached.conn) return cached.conn;\r\n\r\n  const mongoUri = process.env.MONGO_URI;\r\n\r\n  \r\n  if (!mongoUri) {\r\n    throw new Error('MongoDB connection URI is not defined in environment variables.');\r\n  }\r\n\r\n  if (!cached.promise) {\r\n    cached.promise = new Promise((resolve, reject) => {\r\n      mongoose.connect(mongoUri, {\r\n       \r\n      })\r\n      .then((mongooseInstance) => resolve(mongooseInstance))\r\n      .catch((err) => reject(err));\r\n    });\r\n  }\r\n\r\n  try {\r\n    cached.conn = await cached.promise;\r\n    return cached.conn;\r\n  } catch (error) {\r\n    console.error('Error connecting to MongoDB:', error);\r\n    throw new Error('Database connection failed');\r\n  }\r\n}\r\n\r\nexport default dbConnect;\r\n"],"names":[],"mappings":";;;AAAA;;AAOA,IAAI,SAAS,OAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACX,SAAS,OAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IAEnC,MAAM,WAAW,QAAQ,GAAG,CAAC,SAAS;IAGtC,IAAI,CAAC,UAAU;QACb,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,IAAI,QAAQ,CAAC,SAAS;YACrC,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,UAAU,CAE3B,GACC,IAAI,CAAC,CAAC,mBAAqB,QAAQ,mBACnC,KAAK,CAAC,CAAC,MAAQ,OAAO;QACzB;IACF;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;QAClC,OAAO,OAAO,IAAI;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM,IAAI,MAAM;IAClB;AACF;uCAEe"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file://C%3A/codequest/src/app/modals/questions.ts"],"sourcesContent":["import { Schema, model, models, Document } from 'mongoose';\r\n\r\nexport type questions = {\r\n  id: string;\r\n  title: string;\r\n  difficulty: \"Easy\" | \"Medium\" | \"Hard\";\r\n  status: \"ðŸ”’Locked\" | \"Unlocked\";\r\n  route?: string;\r\n}\r\n\r\nexport interface IQuestion extends Document {\r\n category: string;\r\n questions: questions[];\r\n}\r\n\r\nconst questionSchema = new Schema<IQuestion>({\r\n  category: {type: String, required: true},\r\n  questions: [{\r\n    title: {type: String, required: true},\r\n    id: {type: String, required: true},\r\n    difficulty: {type: String, required: true, enum: ['Easy','Medium','Hard']},\r\n    status:{type: String, required: true,enum:[\"ðŸ”’Locked\",\"Unlocked\"]},\r\n    route: {type: String,required: true}\r\n  }\r\n  ]\r\n}\r\n//   {\r\n//   title: { type: String, required: true },\r\n//   difficulty: { type: String, required: true, enum: ['Easy', 'Medium', 'Hard'] },\r\n//   status: { type: String, required: true },\r\n// }\r\n);\r\n\r\nconst Question = models.Question || model<IQuestion>('Question', questionSchema);\r\n\r\nexport default Question;\r\n"],"names":[],"mappings":";;;AAAA;;AAeA,MAAM,iBAAiB,IAAI,yGAAA,CAAA,SAAM,CAAY;IAC3C,UAAU;QAAC,MAAM;QAAQ,UAAU;IAAI;IACvC,WAAW;QAAC;YACV,OAAO;gBAAC,MAAM;gBAAQ,UAAU;YAAI;YACpC,IAAI;gBAAC,MAAM;gBAAQ,UAAU;YAAI;YACjC,YAAY;gBAAC,MAAM;gBAAQ,UAAU;gBAAM,MAAM;oBAAC;oBAAO;oBAAS;iBAAO;YAAA;YACzE,QAAO;gBAAC,MAAM;gBAAQ,UAAU;gBAAK,MAAK;oBAAC;oBAAW;iBAAW;YAAA;YACjE,OAAO;gBAAC,MAAM;gBAAO,UAAU;YAAI;QACrC;KACC;AACH;AAQA,MAAM,WAAW,yGAAA,CAAA,SAAM,CAAC,QAAQ,IAAI,CAAA,GAAA,yGAAA,CAAA,QAAK,AAAD,EAAa,YAAY;uCAElD"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file://C%3A/codequest/src/app/api/submit/%5Bid%5D/status/route.ts"],"sourcesContent":["import dbConnect from \"@/app/lib/mongodb\";\r\nimport Question, { IQuestion } from \"@/app/modals/questions\";\r\nimport { NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport async function POST( req: NextRequest) {\r\n   // const { params } = context;\r\n    const {questionId} = await req.json();\r\n\r\n    try {\r\n        console.log(\"Attempting to connect to the database...\");\r\n        await dbConnect();\r\n        console.log(\"Database connection successful.\");\r\n\r\n        if (!questionId) {\r\n            return NextResponse.json({ error: \"Question ID is required\" }, { status: 400 });\r\n        }\r\n\r\n        console.log(\"PATCH request received with Question ID: \", questionId);\r\n\r\n        \r\n        const result:IQuestion | null = await Question.findOneAndUpdate(\r\n          { \"questions.id\": questionId }, \r\n          {\r\n              $set: { \"questions.$[elem].status\": \" âœ… completed\" }, \r\n          },\r\n          {\r\n              arrayFilters: [{ \"elem.id\": questionId }], \r\n              new: true, \r\n          }\r\n      );\r\n\r\n        if (!result) {\r\n            return NextResponse.json({ error: \"Question not found\" }, { status: 404 });\r\n        }\r\n\r\n        console.log(\"Question status updated successfully: \", result);\r\n\r\n        return NextResponse.json({ message: \"Question completed successfully\", data: result });\r\n    } catch (error) {\r\n        console.error(\"Failed to update question status: \", error);\r\n        return NextResponse.json({ error: \"Failed to update question status\" }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAM,GAAgB;IACzC,8BAA8B;IAC7B,MAAM,EAAC,UAAU,EAAC,GAAG,MAAM,IAAI,IAAI;IAEnC,IAAI;QACA,QAAQ,GAAG,CAAC;QACZ,MAAM,CAAA,GAAA,8HAAA,CAAA,UAAS,AAAD;QACd,QAAQ,GAAG,CAAC;QAEZ,IAAI,CAAC,YAAY;YACb,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QACjF;QAEA,QAAQ,GAAG,CAAC,6CAA6C;QAGzD,MAAM,SAA0B,MAAM,mIAAA,CAAA,UAAQ,CAAC,gBAAgB,CAC7D;YAAE,gBAAgB;QAAW,GAC7B;YACI,MAAM;gBAAE,4BAA4B;YAAe;QACvD,GACA;YACI,cAAc;gBAAC;oBAAE,WAAW;gBAAW;aAAE;YACzC,KAAK;QACT;QAGF,IAAI,CAAC,QAAQ;YACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAqB,GAAG;gBAAE,QAAQ;YAAI;QAC5E;QAEA,QAAQ,GAAG,CAAC,0CAA0C;QAEtD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAmC,MAAM;QAAO;IACxF,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sCAAsC;QACpD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmC,GAAG;YAAE,QAAQ;QAAI;IAC1F;AACJ"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}